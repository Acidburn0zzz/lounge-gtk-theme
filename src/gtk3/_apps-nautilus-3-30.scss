  // Nautilus

.nautilus-window,
.nautilus-window notebook,
.nautilus-window notebook > stack {
    background: $base_color;
}

.nautilus-window.devel headerbar {
    background: linear-gradient(to left, #a5b1bd 0%, #a5b1bd 8%, $bg_color 25%);
    box-shadow: inset 0 1px #f1f3f5;
    border-color: #909fae;
    color: rgba(46, 52, 54, 0.2);
}

.nautilus-canvas-item {
    border-radius: 5px;
}

.nautilus-canvas-item.dim-label,
.nautilus-list-dim-label {
    color: mix($fg_color, $bg_color, 50%);
}

.nautilus-canvas-item.dim-label:selected,
.nautilus-list-dim-label:selected {
    color: mix($selected_fg_color, $selected_bg_color, 20%);
}

/* Toolbar */

/* Here we use the .button background-image colors from Adwaita, but ligthen them,
 * since is not possible to use lighten () in common css. */
@keyframes needs_attention_keyframes {
    0% {background-image: image(darken($base_color, 7%)); border-color: $borders_color; }
    /* can't do animation-direction, so holding the color on two keyframes */
    30% {background-image: image($base_color); border-color: $borders_color; }
    90% {background-image: image($base_color); border-color: $borders_color; }
    100% {background-image: image(darken($base_color, 4%)); border-color: $borders_color; }
}

.nautilus-operations-button-needs-attention {
  animation: needs_attention_keyframes 2s ease-in-out;
}
.nautilus-operations-button-needs-attention-multiple {
  animation: needs_attention_keyframes 3s ease-in-out;
  animation-iteration-count: 3;
}

.disclosure-button {
  padding: 4px;
}

/* Path bar */

.nautilus-window .path-bar button { /* undecorate the buttons */
  border-color: transparent;
  background-color: transparent;
  background-image: none;
  box-shadow: none;
  border-radius: 0;
  text-shadow: none;
  -gtk-icon-shadow: none;
  padding: 4px;
  border-width: 0px;
  margin: 0px;
  &:backdrop:checked { background-image: none; }
}

.nautilus-window .path-bar button:not(:checked) image { opacity: 0.8; } /* dim the icon when not checked */

.nautilus-window .path-bar button:not(:backdrop):hover { box-shadow: inset 0 -2px if($variant == 'light', $borders_color, mix($bg_color, $fg_color, 60%)); }

.nautilus-window .path-bar-box {
  transition: border 200ms;
  transition: background-color 200ms;
}
.nautilus-window .path-bar-box.width-maximized {
  border: 1px $borders_color solid;
  border-radius: 3px;
}
.nautilus-window .path-bar-box.width-maximized:not(:backdrop) {
  background-color: $bg_color;
}

/* Make the tags fit into the box */
.nautilus-window entry.search > * {
  margin: 5px;
}

/* Sidebar */

.nautilus-window .sidebar-row:selected,
.nautilus-window .sidebar-row:selected.has-open-popup {
    background: if($variant == 'light', darken($bg_color, 5%), lighten($bg_color, 4%));
    text-shadow: none;
    -gtk-icon-shadow: none;
}

.nautilus-window .sidebar-row:selected:hover {
    background: if($variant == 'light', darken($bg_color, 10%), lighten($bg_color, 7%));
}

.nautilus-window .sidebar-row:selected,
.nautilus-window .sidebar-row:selected label {
    color: $fg_color;
}

.nautilus-window .sidebar-row:selected:backdrop { &, label {
    background: if($variant == 'light', darken($backdrop_bg_color, 4%), lighten($backdrop_bg_color, 3%)); }
}

.nautilus-window .sidebar-row:selected:backdrop,
.nautilus-window .sidebar-row:selected:backdrop label {
    color: if($variant == 'light', darken($backdrop_fg_color, 5%), lighten($backdrop_fg_color, 5%));
}


/* Floating status bar */
.floating-bar {
  padding: 0px;
  background-color: $menu_color;
  border-width: 1px;
  border-style: solid solid none;
  border-color: $borders_color;
  border-radius: 3px 3px 0 0;
}

.floating-bar.bottom.left { /* axes left border and border radius */
  border-left-style: none;
  border-top-left-radius: 0;
}
.floating-bar.bottom.right { /* axes right border and border radius */
  border-right-style: none;
  border-top-right-radius: 0;
}

.floating-bar:backdrop {
  background-color: $backdrop_base_color;
  border-color: $backdrop_borders_color;
}

.floating-bar button {
  padding: 0px;
}


$disk_space_unknown: #888a85;
$disk_space_used: #729fcf;
$disk_space_free: #eeeeec;

.disk-space-display {
    border-style: solid;
    border-width: 2px;
}

.disk-space-display.unknown {
    background-color: $disk_space_unknown;
    border-color: shade($disk_space_unknown, 0.7);
    color: $disk_space_unknown;
}
.disk-space-display.unknown.border {
    color: shade($disk_space_unknown, 0.7);
}

.disk-space-display.used {
    background-color: $disk_space_used;
    border-color: shade($disk_space_used, 0.7);
    color: $disk_space_used;
}
.disk-space-display.used.border {
    color: shade($disk_space_used, 0.7);
}

.disk-space-display.free {
    background-color: $disk_space_free;
    border-color: shade($disk_space_free, 0.7);
    color: $disk_space_free;
}
.disk-space-display.free.border {
    color: shade($disk_space_free, 0.7);
}


/* View */
.nautilus-list-view .view {
  border-bottom: 1px solid;
  border-bottom-color:  if($variant == 'light', $bg_color, mix($bg_color, $base_color, 60%));
  &:selected { 
    border-bottom-color: $selected_bl_color;
    &:backdrop { border-bottom-color: $backdrop_selected_bl_color; }
  }
}

.search-information {
  background-color: $selected_bg_color;
  color: white;
  padding: 2px;
}

/* Hide superfluous treeview drop target indication */
.nautilus-list-view .view.dnd {
    border-style: none;
}


$conflict_bg: #fef6b6;

.conflict-row {
    background: $conflict_bg;
    color: black;
}

.conflict-row:hover {
    background-color: shade($conflict_bg, 0.9);
}

.conflict-row:selected {
  background: $selected_bg_color;
  color: $selected_fg_color;
}

/* Icon view */
flowboxchild:selected {
  background-color:transparent;
}

.icon-background {
  background-color:black;
  border-color:#4a90d9;
  border-style:solid;
  border-width:0px;
}

flowboxchild > .icon-item-background {
  padding:4px;
}
flowboxchild:selected > .icon-item-background {
  padding:4px;
  background-color:#4a90d9;
  border-color:#4a90d9;
  border-style:solid;
  border-width:0px;
  border-radius:4px 4px 4px 4px;
}

